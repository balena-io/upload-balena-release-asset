"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.validate = exports.fetchProcessing = exports.types = void 0;
const TypeUtils = require("../type-utils");
exports.types = {
    postgres: 'JSONB',
    mysql: 'JSON',
    websql: 'JSON',
    odata: {
        name: 'Edm.String',
    },
};
const fetchProcessing = (data) => {
    if (typeof data === 'string') {
        return JSON.parse(data);
    }
    return data;
};
exports.fetchProcessing = fetchProcessing;
exports.validate = TypeUtils.validate.checkRequired((value) => {
    if (typeof value !== 'object') {
        throw new Error(`is not an object/array: ${typeof value}`);
    }
    try {
        return JSON.stringify(value);
    }
    catch {
        throw new Error('cannot be turned into JSON: ' + value);
    }
});
//# sourceMappingURL=json.js.map